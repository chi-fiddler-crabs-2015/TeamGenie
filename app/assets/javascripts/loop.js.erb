jQuery( function($){


	/*----------------------/
	/* MAIN NAVIGATION
	/*---------------------*/

	$(window).on('scroll', function(){
		if( $(window).width() > 1024 ) {
			if( $(document).scrollTop() > 150 ) {
				$('.navbar').addClass('navbar-light');

			}else {
				$('.navbar').removeClass('navbar-light');
			}
		}
	});

	function toggleNavbar() {
		if( ($(window).width() > 1024) && ($(document).scrollTop() <= 150) ) {
			$(".navbar").removeClass("navbar-light");
		} else {
			$(".navbar").addClass("navbar-light");
		}
	}

	toggleNavbar();

	$(window).resize( function() {
		toggleNavbar();
	});


	// hide collapsible menu
	$('.navbar-nav li a').click( function() {
		if($(this).parents('.navbar-collapse.collapse').hasClass('in')) {
			$('#main-nav').collapse('hide');
		}
	});

	$('#main-nav').localScroll({
		duration: 1000,
		easing: 'easeInOutExpo'
	});

	$('.hero-buttons').localScroll({
		duration: 1000,
		easing: 'easeInOutExpo'
	});



	/*----------------------/
	/* TESTIMONIAL
	/*---------------------*/

	$('.flexslider').flexslider({
		slideshowSpeed: 4000,
		directionNav: false,
		pauseOnAction: false
	});

	// .parallax(xPosition, speedFactor, outerHeight) options:
	// xPosition - Horizontal position of the element
	// inertia - speed to move relative to vertical scroll. Example: 0.1 is one tenth the speed of scrolling, 2 is twice the speed of scrolling
	// outerHeight (true/false) - Whether or not jQuery should use it's outerHeight option to determine when a section is in the viewport

	function setParallax() {
		if( $(window).width() > 1024 ) {
			if( $('#testimonial').hasClass('parallax') ) {
				$('#testimonial').parallax(0, 0.1);
			}
		}
	}

	setParallax();

	$(window).resize( function() {
		setParallax();
	});



	/*----------------------/
	/* SCROLL TO TOP
	/*---------------------*/

	if( $(window).width() > 992 ) {
		$(window).scroll( function() {
			if( $(this).scrollTop() > 300 ) {
				$('.back-to-top').fadeIn();
			} else {
				$('.back-to-top').fadeOut();
			}
		});

		$('.back-to-top').click( function(e) {
			e.preventDefault();

			$('body, html').animate({
				scrollTop: 0,
			}, 800, 'easeInOutExpo');
		});
	}




});

